package org.tron.common.runtime.vm;

import com.google.common.collect.Lists;
import com.google.common.collect.Maps;
import com.google.protobuf.ByteString;
import java.util.Arrays;
import java.util.HashMap;
import lombok.extern.slf4j.Slf4j;
import org.junit.Test;
import org.spongycastle.util.encoders.Hex;
import org.testng.Assert;
import org.tron.common.runtime.TVMTestResult;
import org.tron.common.runtime.TvmTestUtils;
import org.tron.common.runtime.config.VMConfig;
import org.tron.common.runtime.utils.MUtil;
import org.tron.common.utils.ByteArray;
import org.tron.core.Wallet;
import org.tron.core.capsule.ContractCapsule;
import org.tron.core.capsule.ProposalCapsule;
import org.tron.core.exception.ContractExeException;
import org.tron.core.exception.ContractValidateException;
import org.tron.core.exception.ReceiptCheckErrException;
import org.tron.core.exception.VMIllegalException;
import org.tron.protos.Protocol.Transaction;
import stest.tron.wallet.common.client.utils.AbiUtil;

@Slf4j
public class NewGatewayTest extends VMTestBase {

  @Test
  public void testUpdateGateway()
      throws ContractExeException, ReceiptCheckErrException, VMIllegalException, ContractValidateException {
    VMConfig.setAllowUpdateGateway102(true);
    String contractName = "old_gateway";
    byte[] address = Hex.decode(OWNER_ADDRESS);
    String ABI = "[{\"constant\":false,\"inputs\":[{\"name\":\"minValue\",\"type\":\"uint256\"}],\"name\":\"setWithdrawMinTrc20\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"stop\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_sunTokenAddress\",\"type\":\"address\"}],\"name\":\"setSunTokenAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"tokenIdMap\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"depositDone\",\"outputs\":[{\"name\":\"r\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getWithdrawFee\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"},{\"name\":\"oracleSign\",\"type\":\"bytes\"}],\"name\":\"multiSignForWithdrawTRC10\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"mainContractList\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"withdrawMinTrc10\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"withdrawMinTrc20\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"mainContractCount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"tokenId\",\"type\":\"trcToken\"},{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"name\",\"type\":\"bytes32\"},{\"name\":\"symbol\",\"type\":\"bytes32\"},{\"name\":\"decimals\",\"type\":\"uint8\"},{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"multiSignForDepositTRC10\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"initVersion\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"minValue\",\"type\":\"uint256\"}],\"name\":\"setWithdrawMinTrc10\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"mainToSideContractMap\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdrawTRX\",\"outputs\":[{\"name\":\"r\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"depositSigns\",\"outputs\":[{\"name\":\"signCnt\",\"type\":\"uint256\"},{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"name\":\"uId\",\"type\":\"uint256\"},{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"multiSignForDepositTRC721\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"retryFee\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"from\",\"type\":\"address\"},{\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"onTRC20Received\",\"outputs\":[{\"name\":\"r\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"tokenId\",\"type\":\"uint256\"},{\"name\":\"tokenValue\",\"type\":\"uint256\"}],\"name\":\"withdrawTRC10\",\"outputs\":[{\"name\":\"r\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"},{\"name\":\"oracleSign\",\"type\":\"bytes\"}],\"name\":\"multiSignForWithdrawTRX\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"codeVersion\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"isStop\",\"type\":\"bool\"}],\"name\":\"setStop\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"},{\"name\":\"oracleSign\",\"type\":\"bytes\"}],\"name\":\"multiSignForWithdrawTRC721\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"sunTokenAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"symbol\",\"type\":\"string\"},{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"multiSignForDeployDAppTRC721AndMapping\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"bonus\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_oracle\",\"type\":\"address\"}],\"name\":\"delOracle\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"getWithdrawSigns\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes[]\"},{\"name\":\"\",\"type\":\"address[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"multiSignForDepositTRC20\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"pause\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"numOracles\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"logicAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"retryWithdraw\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getCodeVersion\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getMainContractList\",\"outputs\":[{\"name\":\"\",\"type\":\"address[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"from\",\"type\":\"address\"},{\"name\":\"uId\",\"type\":\"uint256\"}],\"name\":\"onTRC721Received\",\"outputs\":[{\"name\":\"r\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_oracle\",\"type\":\"address\"}],\"name\":\"isOracle\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"changeLogicSigns\",\"outputs\":[{\"name\":\"signCnt\",\"type\":\"uint256\"},{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"oracles\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"fee\",\"type\":\"uint256\"}],\"name\":\"setWithdrawFee\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"getWithdrawMsg\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"fee\",\"type\":\"uint256\"}],\"name\":\"setRetryFee\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"isPause\",\"type\":\"bool\"}],\"name\":\"setPause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"minValue\",\"type\":\"uint256\"}],\"name\":\"setWithdrawMinTrx\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"withdrawMinTrx\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"},{\"name\":\"oracleSign\",\"type\":\"bytes\"}],\"name\":\"multiSignForWithdrawTRC20\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"mappingSigns\",\"outputs\":[{\"name\":\"signCnt\",\"type\":\"uint256\"},{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"sideToMainContractMap\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_oracle\",\"type\":\"address\"}],\"name\":\"addOracle\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"multiSignForDepositTRX\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"mappingDone\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"withdrawFee\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"symbol\",\"type\":\"string\"},{\"name\":\"decimals\",\"type\":\"uint8\"},{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"multiSignForDeployDAppTRC20AndMapping\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"withdrawSigns\",\"outputs\":[{\"name\":\"signCnt\",\"type\":\"uint256\"},{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_logicAddress\",\"type\":\"address\"}],\"name\":\"setLogicAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"sideChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"DeployDAppTRC20AndMapping\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"sideChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"DeployDAppTRC721AndMapping\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"tokenId\",\"type\":\"trcToken\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"DepositTRC10\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"sideChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"DepositTRC20\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"sideChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"uId\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"DepositTRC721\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"DepositTRX\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"tokenId\",\"type\":\"trcToken\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"WithdrawTRC10\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"WithdrawTRC20\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"uId\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"WithdrawTRC721\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"WithdrawTRX\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"tokenId\",\"type\":\"trcToken\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"MultiSignForWithdrawTRC10\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"MultiSignForWithdrawTRC20\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"uId\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"MultiSignForWithdrawTRC721\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"MultiSignForWithdrawTRX\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"result\",\"type\":\"bool\"},{\"indexed\":false,\"name\":\"msg\",\"type\":\"bytes\"}],\"name\":\"DelegateResult\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"oldAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"newAddress\",\"type\":\"address\"}],\"name\":\"LogicAddressChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"oldVersion\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"newVersion\",\"type\":\"string\"}],\"name\":\"ChangeVersion\",\"type\":\"event\"}]";
    String factoryCode = new StringBuilder(
        "60c0604052600560808190527f312e302e3100000000000000000000000000000000000000000000000000000060a0908152620000409160009190620000d7565b506040805180820190915260058082527f312e302e3100000000000000000000000000000000000000000000000000000060209092019182526200008791600191620000d7565b50600680546001600160a01b0319908116620100001790915560078054821662010001179055600160088190556009819055600a556000600b819055600c5560038054909116331790556200017c565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200011a57805160ff19168380011785556200014a565b828001600101855582156200014a579182015b828111156200014a5782518255916020019190600101906200012d565b50620001589291506200015c565b5090565b6200017991905b8082111562000158576000815560010162000163565b90565b6181f4806200018c6000396000f3fe608060405260043610620003e65760003560e01c8063831a292e116200020b578063bc3d4d16116200011b578063df5dd1a511620000af578063ef42438f1162000079578063ef42438f14620011c4578063f2fde38b1462001205578063f4072de61462001246578063fdcfc3ef146200128757620003e6565b8063df5dd1a514620010cd578063e6330766146200110e578063e6b7ad2e146200114f578063e941fa78146200119057620003e6565b8063c26d62f211620000f1578063c26d62f21462000fd6578063d7499ce0146200100a578063d85d2d34146200104b578063db13a12b146200108c57620003e6565b8063bc3d4d161462000f13578063bedb86fb1462000f54578063c13299841462000f9557620003e6565b8063a029b096116200019f578063aa56976b1162000169578063aa56976b1462000dfb578063addd50991462000e3c578063b6ac642a1462000e7d578063b74e729d1462000ebe57620003e6565b8063a029b0961462000d2c578063a2a3abe61462000d60578063a8d435021462000da3578063a97e5c931462000dba57620003e6565b8063898de99911620001e1578063898de9991462000c795780638da5cb5b1462000cad5780639c1fcc4c1462000ce15780639cd4adac1462000d1557620003e6565b8063831a292e1462000bb35780638372537d1462000c045780638456cb591462000c4557620003e6565b8063473c3bd711620003075780635d37f3e6116200029b57806367bf5903116200026557806367bf59031462000ac9578063725ef90f1462000afd57806375b4d78c1462000b3e5780637dc793751462000b7257620003e6565b80635d37f3e614620009d257806363e602301462000a13578063641657cb1462000a4757806367b4e31b1462000a8857620003e6565b80634d715a8111620002dd5780634d715a81146200092f5780635174169e146200097057806352e67e4214620009a457806354137e4914620009bb57620003e6565b8063473c3bd714620008935780634a6bdd6a14620008d45780634c0923f814620008de57620003e6565b80632633de5f116200037f57806335ba4ebb116200035557806335ba4ebb146200079a5780633691a93114620007ce57806338d38c97146200080f5780633f8d0549146200085257620003e6565b80632633de5f14620006e257806330e86ecf1462000732578063314bb5e2146200076657620003e6565b80630e321a4211620003c15780630e321a4214620005dc57806314a39ded146200061d5780631540aa89146200065e5780631a09cdeb14620006a157620003e6565b806302ec2e73146200050e57806307da68f5146200054f5780630a61c59f146200059b575b6002546001600160a01b03161562000498576002546040516000916060916001600160a01b03909116906200041f908490369062005b8a565b600060405180830381855af49150503d80600081146200045c576040519150601f19603f3d011682016040523d82523d6000602084013e62000461565b606091505b50915091506000805160206200816e83398151915282826040516200048892919062005e1d565b60405180910390a150506200050c565b600e5460ff1615620004c75760405162461bcd60e51b8152600401620004be9062005f23565b60405180910390fd5b600e54610100900460ff1615620004f25760405162461bcd60e51b8152600401620004be9062005f35565b60405162461bcd60e51b8152600401620004be9062005fa1565b005b3480156200051b57600080fd5b50d380156200052957600080fd5b50d280156200053757600080fd5b506200050c62000549366004620050ba565b620012c8565b3480156200055c57600080fd5b50d380156200056a57600080fd5b50d280156200057857600080fd5b5062000583620013b0565b60405162000592919062005e0d565b60405180910390f35b348015620005a857600080fd5b50d38015620005b657600080fd5b50d28015620005c457600080fd5b506200050c620005d636600462004d60565b620013be565b348015620005e957600080fd5b50d38015620005f757600080fd5b50d280156200060557600080fd5b506200058362000617366004620050ba565b6200146d565b3480156200062a57600080fd5b50d380156200063857600080fd5b50d280156200064657600080fd5b506200058362000658366004620050ba565b62001482565b3480156200066b57600080fd5b50d380156200067957600080fd5b50d280156200068757600080fd5b50620006926200149a565b6040516200059291906200608b565b348015620006ae57600080fd5b50d38015620006bc57600080fd5b50d28015620006ca57600080fd5b506200050c620006dc366004620050db565b620014a1565b348015620006ef57600080fd5b50d38015620006fd57600080fd5b50d280156200070b57600080fd5b50620007236200071d366004620050ba565b6200169f565b60405162000592919062005ba7565b3480156200073f57600080fd5b50d380156200074d57600080fd5b50d280156200075b57600080fd5b5062000692620016c7565b3480156200077357600080fd5b50d380156200078157600080fd5b50d280156200078f57600080fd5b5062000692620016cd565b348015620007a757600080fd5b50d38015620007b557600080fd5b50d28015620007c357600080fd5b5062000692620016d3565b348015620007db57600080fd5b50d38015620007e957600080fd5b50d28015620007f757600080fd5b506200050c6200080936600462004d89565b620016d9565b3480156200081c57600080fd5b50d380156200082a57600080fd5b50d280156200083857600080fd5b50620008436200184e565b60405162000592919062005e7b565b3480156200085f57600080fd5b50d380156200086d57600080fd5b50d280156200087b57600080fd5b506200050c6200088d366004620050ba565b620018e0565b348015620008a057600080fd5b50d38015620008ae57600080fd5b50d28015620008bc57600080fd5b5062000723620008ce36600462004d60565b6200194b565b6200069262001966565b348015620008eb57600080fd5b50d38015620008f957600080fd5b50d280156200090757600080fd5b506200091f62000919366004620050ba565b62001ccb565b604051620005929291906200609b565b3480156200093c57600080fd5b50d380156200094a57600080fd5b50d280156200095857600080fd5b506200050c6200096a36600462004e88565b62001cea565b3480156200097d57600080fd5b50d380156200098b57600080fd5b50d280156200099957600080fd5b506200069262001e60565b62000692620009b536600462005021565b62001e66565b62000692620009cc36600462005129565b6200218d565b348015620009df57600080fd5b50d38015620009ed57600080fd5b50d28015620009fb57600080fd5b506200050c62000a0d366004620050db565b62002601565b34801562000a2057600080fd5b50d3801562000a2e57600080fd5b50d2801562000a3c57600080fd5b506200084362002768565b34801562000a5457600080fd5b50d3801562000a6257600080fd5b50d2801562000a7057600080fd5b506200050c62000a8236600462005060565b620027c5565b34801562000a9557600080fd5b50d3801562000aa357600080fd5b50d2801562000ab157600080fd5b506200050c62000ac3366004620050db565b62002843565b34801562000ad657600080fd5b50d3801562000ae457600080fd5b50d2801562000af257600080fd5b5062000723620029bc565b34801562000b0a57600080fd5b50d3801562000b1857600080fd5b50d2801562000b2657600080fd5b506200050c62000b3836600462004ef2565b620029cb565b34801562000b4b57600080fd5b50d3801562000b5957600080fd5b50d2801562000b6757600080fd5b506200069262002abd565b34801562000b7f57600080fd5b50d3801562000b8d57600080fd5b50d2801562000b9b57600080fd5b506200050c62000bad36600462004d60565b62002ac3565b34801562000bc057600080fd5b50d3801562000bce57600080fd5b50d2801562000bdc57600080fd5b5062000bf462000bee366004620050ba565b62002b8f565b6040516200059292919062005de4565b34801562000c1157600080fd5b50d3801562000c1f57600080fd5b50d2801562000c2d57600080fd5b506200050c62000c3f36600462004e88565b62002ce8565b34801562000c5257600080fd5b50d3801562000c6057600080fd5b50d2801562000c6e57600080fd5b506200058362002ddd565b34801562000c8657600080fd5b50d3801562000c9457600080fd5b50d2801562000ca257600080fd5b506200069262002de6565b34801562000cba57600080fd5b50d3801562000cc857600080fd5b50d2801562000cd657600080fd5b506200072362002dec565b34801562000cee57600080fd5b50d3801562000cfc57600080fd5b50d2801562000d0a57600080fd5b506200072362002dfb565b6200050c62000d26366004620050ba565b62002e0a565b34801562000d3957600080fd5b50d3801562000d4757600080fd5b50d2801562000d5557600080fd5b5062000843620032ad565b34801562000d6d57600080fd5b50d3801562000d7b57600080fd5b50d2801562000d8957600080fd5b5062000d9462003346565b60405162000592919062005dd1565b6200069262000db436600462005021565b620033a9565b34801562000dc757600080fd5b50d3801562000dd557600080fd5b50d2801562000de357600080fd5b506200058362000df536600462004d60565b62003619565b34801562000e0857600080fd5b50d3801562000e1657600080fd5b50d2801562000e2457600080fd5b506200091f62000e3636600462004d60565b6200363b565b34801562000e4957600080fd5b50d3801562000e5757600080fd5b50d2801562000e6557600080fd5b506200058362000e7736600462004d60565b6200365a565b34801562000e8a57600080fd5b50d3801562000e9857600080fd5b50d2801562000ea657600080fd5b506200050c62000eb8366004620050ba565b6200366f565b34801562000ecb57600080fd5b50d3801562000ed957600080fd5b50d2801562000ee757600080fd5b5062000eff62000ef9366004620050ba565b62003701565b604051620005929695949392919062005d2c565b34801562000f2057600080fd5b50d3801562000f2e57600080fd5b50d2801562000f3c57600080fd5b506200050c62000f4e366004620050ba565b62003818565b34801562000f6157600080fd5b50d3801562000f6f57600080fd5b50d2801562000f7d57600080fd5b506200050c62000f8f36600462005060565b620038aa565b34801562000fa257600080fd5b50d3801562000fb057600080fd5b50d2801562000fbe57600080fd5b506200050c62000fd0366004620050ba565b62003923565b34801562000fe357600080fd5b50d3801562000ff157600080fd5b50d2801562000fff57600080fd5b50620006926200398e565b3480156200101757600080fd5b50d380156200102557600080fd5b50d280156200103357600080fd5b506200050c62001045366004620050db565b62003994565b3480156200105857600080fd5b50d380156200106657600080fd5b50d280156200107457600080fd5b506200091f62001086366004620050ba565b62003b0d565b3480156200109957600080fd5b50d38015620010a757600080fd5b50d28015620010b557600080fd5b5062000723620010c736600462004d60565b62003b2c565b348015620010da57600080fd5b50d38015620010e857600080fd5b50d28015620010f657600080fd5b506200050c6200110836600462004d60565b62003b47565b3480156200111b57600080fd5b50d380156200112957600080fd5b50d280156200113757600080fd5b506200050c6200114936600462004e34565b62003c42565b3480156200115c57600080fd5b50d380156200116a57600080fd5b50d280156200117857600080fd5b50620005836200118a366004620050ba565b62003d79565b3480156200119d57600080fd5b50d38015620011ab57600080fd5b50d28015620011b957600080fd5b506200069262003d91565b348015620011d157600080fd5b50d38015620011df57600080fd5b50d28015620011ed57600080fd5b506200050c620011ff36600462004f6f565b62003d97565b3480156200121257600080fd5b50d380156200122057600080fd5b50d280156200122e57600080fd5b506200050c6200124036600462004d60565b62003efc565b3480156200125357600080fd5b50d380156200126157600080fd5b50d280156200126f57600080fd5b506200091f62001281366004620050ba565b62003f6d565b3480156200129457600080fd5b50d38015620012a257600080fd5b50d28015620012b057600080fd5b506200050c620012c236600462004d60565b62003f8c565b6002546001600160a01b0316156200137a576002546040516000916060916001600160a01b039091169062001301908490369062005b8a565b600060405180830381855af49150503d80600081146200133e576040519150601f19603f3d011682016040523d82523d6000602084013e62001343565b606091505b50915091506000805160206200816e83398151915282826040516200136a92919062005e1d565b60405180910390a15050620013ad565b6003546001600160a01b03163314620013a75760405162461bcd60e51b8152600401620004be9062005f6b565b600a8190555b50565b600e54610100900460ff1681565b6002546001600160a01b031615620013f7576002546040516000916060916001600160a01b039091169062001301908490369062005b8a565b6003546001600160a01b03163314620014245760405162461bcd60e51b8152600401620004be9062005f6b565b6001600160a01b0381166200144d5760405162461bcd60e51b8152600401620004be9062005fe9565b600580546001600160a01b0383166001600160a01b031990911617905550565b60126020526000908152604090205460ff1681565b60009081526014602052604090206004015460ff1690565b600b545b90565b6002546001600160a01b03161562001553576002546040516000916060916001600160a01b0390911690620014da908490369062005b8a565b600060405180830381855af49150503d806000811462001517576040519150601f19603f3d011682016040523d82523d6000602084013e6200151c565b606091505b50915091506000805160206200816e83398151915282826040516200154392919062005e1d565b60405180910390a150506200169b565b600e54610100900460ff16156200157e5760405162461bcd60e51b8152600401620004be9062005f35565b3360009081526013602052604090205460ff16620015b05760405162461bcd60e51b8152600401620004be9062005f47565b620015bc828262003fda565b620015c7576200169b565b600060188381548110620015d757fe5b60009182526020808320600590920290910180546002820154600383015460405193965062001619946001600160a01b03909316939192909189910162005b1b565b6040516020818303038152906040528051906020012090506200163d8482620040c7565b1562001698578154600283015460038401546040517fe602f8e08fc6d15b2241c6261e66e1a122de12e279a8e3f1ae4dc2030846ad9a936200168f936001600160a01b03909116929091899062005d92565b60405180910390a15b50505b5050565b60118181548110620016ad57fe5b6000918252602090912001546001600160a01b0316905081565b60095481565b600a5481565b60115490565b6002546001600160a01b0316156200178b576002546040516000916060916001600160a01b039091169062001712908490369062005b8a565b600060405180830381855af49150503d80600081146200174f576040519150601f19603f3d011682016040523d82523d6000602084013e62001754565b606091505b50915091506000805160206200816e83398151915282826040516200177b92919062005e1d565b60405180910390a1505062001845565b600e54610100900460ff1615620017b65760405162461bcd60e51b8152600401620004be9062005f35565b3360009081526013602052604090205460ff16620017e85760405162461bcd60e51b8152600401620004be9062005f47565b620f424086118015620017fd5750621e848086105b6200181c5760405162461bcd60e51b8152600401620004be9062005ec9565b6000620018298262004197565b90508015620018435762001843888888888888886200423f565b505b50505050505050565b6000805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529291830182828015620018d85780601f10620018ac57610100808354040283529160200191620018d8565b820191906000526020600020905b815481529060010190602001808311620018ba57829003601f168201915b505050505081565b6002546001600160a01b03161562001919576002546040516000916060916001600160a01b039091169062001301908490369062005b8a565b6003546001600160a01b03163314620019465760405162461bcd60e51b8152600401620004be9062005f6b565b600955565b600f602052600090815260409020546001600160a01b031681565b6002546000906001600160a01b03161562001a1b576002546040516000916060916001600160a01b0390911690620019a2908490369062005b8a565b600060405180830381855af49150503d8060008114620019df576040519150601f19603f3d011682016040523d82523d6000602084013e620019e4565b606091505b50915091506000805160206200816e833981519152828260405162001a0b92919062005e1d565b60405180910390a150506200149e565b600e5460ff161562001a415760405162461bcd60e51b8152600401620004be9062005f23565b600e54610100900460ff161562001a6c5760405162461bcd60e51b8152600401620004be9062005f35565b33321462001a8e5760405162461bcd60e51b8152600401620004be9062005f59565b600b546008540134101562001ab75760405162461bcd60e51b8152600401620004be9062005fd7565b341562001acb57600b54600d805490910190555b600b546040805160c0810182523381526000602082018181529282018181523494909403606083018181526080840183815260a0850184905260188054600180820180845592909652865160059091027fb13d2d76d1f4b7be834882e410b3e3a8afaf69f83600ae24db354391d2378d2e810180546001600160a01b039384166001600160a01b031991821617825599517fb13d2d76d1f4b7be834882e410b3e3a8afaf69f83600ae24db354391d2378d2f83018054919094169a169990991790915597517fb13d2d76d1f4b7be834882e410b3e3a8afaf69f83600ae24db354391d2378d3089015591517fb13d2d76d1f4b7be834882e410b3e3a8afaf69f83600ae24db354391d2378d31880155517fb13d2d76d1f4b7be834882e410b3e3a8afaf69f83600ae24db354391d2378d32909601805492969195939192909160ff199091169083600381111562001c1e57fe5b021790555060a082015160048201805461ff00191661010083600381111562001c4357fe5b0217905550506040516000925083156108fc029150839083818181858288f1935050505015801562001c79573d6000803e3d6000fd5b507f8b605c1d46a95857320754587b24cee1ff155aa8babb37ddc176c83fe9b72b78338260016018805490500360405162001cb79392919062005c82565b60405180910390a150506018546000190190565b6014602052600090815260409020600381015460049091015460ff1682565b6002546001600160a01b03161562001d9c576002546040516000916060916001600160a01b039091169062001d23908490369062005b8a565b600060405180830381855af49150503d806000811462001d60576040519150601f19603f3d011682016040523d82523d6000602084013e62001d65565b606091505b50915091506000805160206200816e833981519152828260405162001d8c92919062005e1d565b60405180910390a1505062001698565b600e54610100900460ff161562001dc75760405162461bcd60e51b8152600401620004be9062005f35565b3360009081526013602052604090205460ff1662001df95760405162461bcd60e51b8152600401620004be9062005f47565b6001600160a01b038084166000908152600f6020526040902054168062001e345760405162461bcd60e51b8152600401620004be906200601f565b600062001e418362004197565b9050801562001e585762001e5886838686620043b8565b505050505050565b600c5481565b6002546000906001600160a01b03161562001f1b576002546040516000916060916001600160a01b039091169062001ea2908490369062005b8a565b600060405180830381855af49150503d806000811462001edf576040519150601f19603f3d011682016040523d82523d6000602084013e62001ee4565b606091505b50915091506000805160206200816e833981519152828260405162001f0b92919062005e1d565b60405180910390a1505062002187565b600e5460ff161562001f415760405162461bcd60e51b8152600401620004be9062005f23565b600e54610100900460ff161562001f6c5760405162461bcd60e51b8152600401620004be9062005f35565b336000908152601060205260409020546001600160a01b03168062001fa55760405162461bcd60e51b8152600401620004be9062005edb565b600a5483101562001fca5760405162461bcd60e51b8152600401620004be9062005ffb565b341562001fda57600d8054340190555b60186040518060c00160405280866001600160a01b03168152602001836001600160a01b0316815260200160008152602001858152602001600260038111156200202057fe5b815260200160009052815460018082018085556000948552602094859020845160059094020180546001600160a01b03199081166001600160a01b0395861617825595850151818401805490971694169390931790945560408301516002830155606083015160038084019190915560808401516004840180549193909260ff19909216918490811115620020b157fe5b021790555060a082015160048201805461ff001916610100836003811115620020d657fe5b021790555050604051630852cd8d60e31b81523392506342966c689150620021039086906004016200608b565b600060405180830381600087803b1580156200211e57600080fd5b505af115801562002133573d6000803e3d6000fd5b50506018546040517f70e60276a5e6e928d9393ec199889aa3310759e9b03135fa91aa8c495e5feaae9350620021759250879185918891600019019062005d0d565b60405180910390a15050601854600019015b92915050565b60008282d38214620021b35760405162461bcd60e51b8152600401620004be9062005fb3565bd28114620021d55760405162461bcd60e51b8152600401620004be9062005eb7565b6002546001600160a01b03161562002287576002546040516000916060916001600160a01b03909116906200220e908490369062005b8a565b600060405180830381855af49150503d80600081146200224b576040519150601f19603f3d011682016040523d82523d6000602084013e62002250565b606091505b50915091506000805160206200816e83398151915282826040516200227792919062005e1d565b60405180910390a1505062")
        .append(
            "0025f9565b600e5460ff1615620022ad5760405162461bcd60e51b8152600401620004be9062005f23565b600e54610100900460ff1615620022d85760405162461bcd60e51b8152600401620004be9062005f35565b333214620022fa5760405162461bcd60e51b8152600401620004be9062005f59565bd360009081526012602052604090205460ff166200232c5760405162461bcd60e51b8152600401620004be9062005eed565b600954d21015620023515760405162461bcd60e51b8152600401620004be9062005eff565b600b54341015620023765760405162461bcd60e51b8152600401620004be9062005f7d565b600b54341115620023b457600b546040513391340380156108fc02916000818181858888f19350505050158015620023b2573d6000803e3d6000fd5b505b3415620023c857600b54600d805490910190555b6040805160c081018252338152600060208201818152d3938301938452d26060840190815260016080850181815260a086018590526018805480840180835591909652865160059096027fb13d2d76d1f4b7be834882e410b3e3a8afaf69f83600ae24db354391d2378d2e810180546001600160a01b039889166001600160a01b031991821617825596517fb13d2d76d1f4b7be834882e410b3e3a8afaf69f83600ae24db354391d2378d2f830180549190991697169690961790965596517fb13d2d76d1f4b7be834882e410b3e3a8afaf69f83600ae24db354391d2378d3086015591517fb13d2d76d1f4b7be834882e410b3e3a8afaf69f83600ae24db354391d2378d3185015590517fb13d2d76d1f4b7be834882e410b3e3a8afaf69f83600ae24db354391d2378d329093018054929392909160ff19909116908360038111156200251257fe5b021790555060a082015160048201805461ff0019166101008360038111156200253757fe5b0217905550600092505050d280156108fc0290d3801580156200255957600080fd5b50806001603f1b111580156200256e57600080fd5b5080620f4240101580156200258257600080fd5b50604051600081818185878a8ad0945050505050158015620025a8573d6000803e3d6000fd5b506018546040517f233ef90f4fff74796ce2477f1070c9080c6ef0d026bf12c7e85885dee69f06f891620025e7913391d391d291600019019062005c45565b60405180910390a16018546000190192505b505092915050565b6002546001600160a01b0316156200263a576002546040516000916060916001600160a01b0390911690620014da908490369062005b8a565b600e54610100900460ff1615620026655760405162461bcd60e51b8152600401620004be9062005f35565b3360009081526013602052604090205460ff16620026975760405162461bcd60e51b8152600401620004be9062005f47565b620026a3828262003fda565b620026ae576200169b565b600060188381548110620026be57fe5b60009182526020808320600590920290910180546003820154604051929550620026f9936001600160a01b0390921692909188910162005b4d565b6040516020818303038152906040528051906020012090506200271d8482620040c7565b156200169857815460038301546040517f072bf1cba078d9b0cc566f8aebf5517516d66da00b2c0d9146cd25334b119a74926200168f926001600160a01b0390911691889062005dc1565b60018054604080516020600284861615610100026000190190941693909304601f81018490048402820184019092528181529291830182828015620018d85780601f10620018ac57610100808354040283529160200191620018d8565b6002546001600160a01b031615620027fe576002546040516000916060916001600160a01b039091169062001301908490369062005b8a565b6003546001600160a01b031633146200282b5760405162461bcd60e51b8152600401620004be9062005f6b565b600e80548215156101000261ff001990911617905550565b6002546001600160a01b0316156200287c576002546040516000916060916001600160a01b0390911690620014da908490369062005b8a565b600e54610100900460ff1615620028a75760405162461bcd60e51b8152600401620004be9062005f35565b3360009081526013602052604090205460ff16620028d95760405162461bcd60e51b8152600401620004be9062005f47565b620028e5828262003fda565b620028f0576200169b565b6000601883815481106200290057fe5b60009182526020808320600590920290910180546001820154600383015460405193965062002945946001600160a01b03938416949290931692909189910162005acb565b604051602081830303815290604052805190602001209050620029698482620040c7565b1562001698578154600183015460038401546040517fa356e11167fba9db9c7e29c60fcc4da0925f1174dbc1d55b9dfa615f7a91183f936200168f936001600160a01b0391821693911691899062005d0d565b6005546001600160a01b031681565b6002546001600160a01b03161562002a04576002546040516000916060916001600160a01b039091169062001d23908490369062005b8a565b600e54610100900460ff161562002a2f5760405162461bcd60e51b8152600401620004be9062005f35565b3360009081526013602052604090205460ff1662002a615760405162461bcd60e51b8152600401620004be9062005f47565b6005546001600160a01b038581169116141562002a925760405162461bcd60e51b8152600401620004be9062006067565b600062002a9f8262004453565b9050801562002ab65762002ab68585858562004482565b5050505050565b600d5481565b6002546001600160a01b03161562002afc576002546040516000916060916001600160a01b039091169062001301908490369062005b8a565b6003546001600160a01b0316331462002b295760405162461bcd60e51b8152600401620004be9062005f6b565b6001600160a01b03811660009081526013602052604090205460ff1662002b645760405162461bcd60e51b8152600401620004be9062005f11565b6001600160a01b03166000908152601360205260409020805460ff1916905560048054600019019055565b600081815260156020908152604080832060018101805483518186028101860190945280845260609586959294600290940193928592919084015b8282101562002c7b5760008481526020908190208301805460408051601f600260001961010060018716150201909416939093049283018590048502810185019091528181529283018282801562002c665780601f1062002c3a5761010080835404028352916020019162002c66565b820191906000526020600020905b81548152906001019060200180831162002c4857829003601f168201915b50505050508152602001906001019062002bca565b5050505091508080548060200260200160405190810160405280929190818152602001828054801562002cd857602002820191906000526020600020905b81546001600160a01b0316815260019091019060200180831162002cb9575b5050505050905091509150915091565b6002546001600160a01b03161562002d21576002546040516000916060916001600160a01b039091169062001d23908490369062005b8a565b600e54610100900460ff161562002d4c5760405162461bcd60e51b8152600401620004be9062005f35565b3360009081526013602052604090205460ff1662002d7e5760405162461bcd60e51b8152600401620004be9062005f47565b6001600160a01b038084166000908152600f6020526040902054168062002db95760405162461bcd60e51b8152600401620004be906200601f565b600062002dc68362004197565b9050801562001e585762001e5886838686620045da565b600e5460ff1681565b60045481565b6003546001600160a01b031681565b6002546001600160a01b031681565b6002546001600160a01b03161562002e43576002546040516000916060916001600160a01b039091169062001301908490369062005b8a565b600e5460ff161562002e695760405162461bcd60e51b8152600401620004be9062005f23565b600e54610100900460ff161562002e945760405162461bcd60e51b8152600401620004be9062005f35565b33321462002eb65760405162461bcd60e51b8152600401620004be9062005f59565b600c5434101562002edb5760405162461bcd60e51b8152600401620004be906200600d565b600c5434111562002f1957600c546040513391340380156108fc02916000818181858888f1935050505015801562002f17573d6000803e3d6000fd5b505b600c54600d80549091019055601854811062002f495760405162461bcd60e51b8152600401620004be9062005f8f565b60006018828154811062002f5957fe5b6000918252602090912060059091020190506001600482015460ff16600381111562002f8157fe5b1415620030585760008281526015602052604090206004015460ff161562002ffd578054600282015460038301546040517fe602f8e08fc6d15b2241c6261e66e1a122de12e279a8e3f1ae4dc2030846ad9a9362002fef936001600160a01b03909116929091879062005d92565b60405180910390a162003052565b8054600282015460038301546040517f233ef90f4fff74796ce2477f1070c9080c6ef0d026bf12c7e85885dee69f06f89362003049936001600160a01b03909116929091879062005d92565b60405180910390a15b6200169b565b6002600482015460ff1660038111156200306e57fe5b14156200312a5760008281526015602052604090206004015460ff1615620030dd578054600182015460038301546040517f447a43cd233d7bec0e836b62f3b956ef1e511d76e9c9bb869bff4f2191ea96269362002fef936001600160a01b0391821693911691879062005d0d565b8054600182015460038301546040517f70e60276a5e6e928d9393ec199889aa3310759e9b03135fa91aa8c495e5feaae9362003049936001600160a01b0391821693911691879062005d0d565b6003600482015460ff1660038111156200314057fe5b1415620031fc5760008281526015602052604090206004015460ff1615620031af578054600182015460038301546040517fa356e11167fba9db9c7e29c60fcc4da0925f1174dbc1d55b9dfa615f7a91183f9362002fef936001600160a01b0391821693911691879062005d0d565b8054600182015460038301546040517f9eba2209f8d644d656032105b0723bfa9ec5171cf31aab76c9957bff8eb4a6339362003049936001600160a01b0391821693911691879062005d0d565b60008281526015602052604090206004015460ff16156200325c57805460038201546040517f072bf1cba078d9b0cc566f8aebf5517516d66da00b2c0d9146cd25334b119a749262003049926001600160a01b0390911691869062005dc1565b805460038201546040517f8b605c1d46a95857320754587b24cee1ff155aa8babb37ddc176c83fe9b72b7892620032a1926001600160a01b0390911691869062005dc1565b60405180910390a15050565b60018054604080516020601f600260001961010087891615020190951694909404938401819004810282018101909252828152606093909290918301828280156200333c5780601f1062003310576101008083540402835291602001916200333c565b820191906000526020600020905b8154815290600101906020018083116200331e57829003601f168201915b5050505050905090565b606060118054806020026020016040519081016040528092919081815260200182805480156200333c57602002820191906000526020600020905b81546001600160a01b0316815260019091019060200180831162003381575050505050905090565b6002546000906001600160a01b031615620033e5576002546040516000916060916001600160a01b039091169062001ea2908490369062005b8a565b600e5460ff16156200340b5760405162461bcd60e51b8152600401620004be9062005f23565b600e54610100900460ff1615620034365760405162461bcd60e51b8152600401620004be9062005f35565b336000908152601060205260409020546001600160a01b0316806200346f5760405162461bcd60e51b8152600401620004be9062005edb565b34156200347f57600d8054340190555b60186040518060c00160405280866001600160a01b03168152602001836001600160a01b0316815260200160008152602001858152602001600380811115620034c457fe5b815260200160009052815460018082018085556000948552602094859020845160059094020180546001600160a01b03199081166001600160a01b0395861617825595850151818401805490971694169390931790945560408301516002830155606083015160038084019190915560808401516004840180549193909260ff199092169184908111156200355557fe5b021790555060a082015160048201805461ff0019166101008360038111156200357a57fe5b021790555050604051630852cd8d60e31b81523392506342966c689150620035a79086906004016200608b565b600060405180830381600087803b158015620035c257600080fd5b505af1158015620035d7573d6000803e3d6000fd5b50506018546040517f9eba2209f8d644d656032105b0723bfa9ec5171cf31aab76c9957bff8eb4a6339350620021759250879185918891600019019062005d0d565b6001600160a01b03811660009081526013602052604090205460ff165b919050565b6017602052600090815260409020600381015460049091015460ff1682565b60136020526000908152604090205460ff1681565b6002546001600160a01b031615620036a8576002546040516000916060916001600160a01b039091169062001301908490369062005b8a565b6003546001600160a01b03163314620036d55760405162461bcd60e51b8152600401620004be9062005f6b565b6305f5e100811115620036fc5760405162461bcd60e51b8152600401620004be9062006055565b600b55565b6000806000806000806200371462004b7e565b601888815481106200372257fe5b60009182526020918290206040805160c081018252600590930290910180546001600160a01b0390811684526001820154169383019390935260028301549082015260038083015460608301526004830154919291608084019160ff909116908111156200378c57fe5b60038111156200379857fe5b81526020016004820160019054906101000a900460ff166003811115620037bb57fe5b6003811115620037c757fe5b815250509050806000015181602001518260400151836060015184608001516003811115620037f257fe5b8560a0015160038111156200380357fe5b949d939c50919a509850965090945092505050565b6002546001600160a01b03161562003851576002546040516000916060916001600160a01b039091169062001301908490369062005b8a565b6003546001600160a01b031633146200387e5760405162461bcd60e51b8152600401620004be9062005f6b565b6305f5e100811115620038a55760405162461bcd60e51b8152600401620004be9062006055565b600c55565b6002546001600160a01b031615620038e3576002546040516000916060916001600160a01b039091169062001301908490369062005b8a565b6003546001600160a01b03163314620039105760405162461bcd60e51b8152600401620004be9062005f6b565b600e805482151560ff1990911617905550565b6002546001600160a01b0316156200395c576002546040516000916060916001600160a01b039091169062001301908490369062005b8a565b6003546001600160a01b03163314620039895760405162461bcd60e51b8152600401620004be9062005f6b565b600855565b60085481565b6002546001600160a01b031615620039cd576002546040516000916060916001600160a01b0390911690620014da908490369062005b8a565b600e54610100900460ff1615620039f85760405162461bcd60e51b8152600401620004be9062005f35565b3360009081526013602052604090205460ff1662003a2a5760405162461bcd60e51b8152600401620004be9062005f47565b62003a36828262003fda565b62003a41576200169b565b60006018838154811062003a5157fe5b60009182526020808320600590920290910180546001820154600383015460405193965062003a96946001600160a01b03938416949290931692909189910162005acb565b60405160208183030381529060405280519060200120905062003aba8482620040c7565b1562001698578154600183015460038401546040517f447a43cd233d7bec0e836b62f3b956ef1e511d76e9c9bb869bff4f2191ea9626936200168f936001600160a01b0391821693911691899062005d0d565b6016602052600090815260409020600381015460049091015460ff1682565b6010602052600090815260409020546001600160a01b031681565b6002546001600160a01b03161562003b80576002546040516000916060916001600160a01b039091169062001301908490369062005b8a565b6003546001600160a01b0316331462003bad5760405162461bcd60e51b8152600401620004be9062005f6b565b6001600160a01b03811662003bd65760405162461bcd60e51b8152600401620004be9062005fc5565b6001600160a01b03811660009081526013602052604090205460ff161562003c125760405162461bcd60e51b8152600401620004be9062006031565b6001600160a01b03166000908152601360205260409020805460ff19166001908117909155600480549091019055565b6002546001600160a01b03161562003cf4576002546040516000916060916001600160a01b039091169062003c7b908490369062005b8a565b600060405180830381855af49150503d806000811462003cb8576040519150601f19603f3d011682016040523d82523d6000602084013e62003cbd565b606091505b50915091506000805160206200816e833981519152828260405162003ce492919062005e1d565b60405180910390a1505062003d74565b600e54610100900460ff161562003d1f5760405162461bcd60e51b8152600401620004be9062005f35565b3360009081526013602052604090205460ff1662003d515760405162461bcd60e51b8152600401620004be9062005f47565b600062003d5e8262004197565b9050801562001698576200169884848462004675565b505050565b60009081526016602052604090206004015460ff1690565b600b5481565b6002546001600160a01b03161562003e49576002546040516000916060916001600160a01b039091169062003dd0908490369062005b8a565b600060405180830381855af49150503d806000811462003e0d576040519150601f19603f3d011682016040523d82523d6000602084013e62003e12565b606091505b50915091506000805160206200816e833981519152828260405162003e3992919062005e1d565b60405180910390a1505062002ab6565b600e54610100900460ff161562003e745760405162461bcd60e51b8152600401620004be9062005f35565b3360009081526013602052604090205460ff1662003ea65760405162461bcd60e51b8152600401620004be9062005f47565b6005546001600160a01b038681169116141562003ed75760405162461bcd60e51b8152600401620004be9062006067565b600062003ee48262004453565b9050801562001e585762001e58868686868662004774565b6002546001600160a01b03161562003f35576002546040516000916060916001600160a01b039091169062001301908490369062005b8a565b6003546001600160a01b0316331462003f625760405162461bcd60e51b8152600401620004be9062005f6b565b620013ad81620048cf565b6015602052600090815260409020600381015460049091015460ff1682565b3360009081526013602052604090205460ff1662003fbe5760405162461bcd60e51b8152600401620004be9062005f47565b62003fc9816200493f565b15620013ad57620013ad8162004978565b60008281526015602090815260408083203384529182905282205460ff16156200400957600091505062002187565b336000908152602082815260408220805460ff1916600190811790915583810180549182018082559084529282902086516200404e9391909201919087019062004bb3565b505060028101805460018181018355600092835260209092200180546001600160a01b031916331790556003820180549091019055600481015460ff16158015620040ac5750600360045460020281620040a457fe5b048160030154115b15620040bd57600191505062002187565b5060009392505050565b6000828152601560205260408120600481015460ff1615620040ee57600091505062002187565b6000600984836001018460020160405160008152602001604052604051620041199392919062005e41565b6020604051602081039080840390855afa1580156200413c573d6000803e3d6000fd5b5050506020604051035190506000620041558262004b5a565b90506003600454600202816200416757fe5b048111156200418b575050600401805460ff19166001908117909155905062002187565b50600095945050505050565b60008181526014602090815260408083203384529182905282205460ff1615620041c657600091505062003636565b336000908152602082905260409020805460ff191660019081179091556003820180549091019055600481015460ff161580156200421757506003600454600202816200420f57fe5b048160030154115b156200423657600401805460ff19166001908117909155905062003636565b50600092915050565b600086815260126020526040902054869060ff1662004272576000818152601260205260409020805460ff191660011790555b6007546040516001600160a01b03909116906200429c9088908490899089908990602001620060ba565b60408051601f1981840301815290829052620042b89162005b99565b6000604051808303816000865af19150503d8060008114620042f7576040519150601f19603f3d011682016040523d82523d6000602084013e620042fc565b606091505b5050506001600160a01b0388166108fc8715028783801580156200431f57600080fd5b50806001603f1b111580156200433457600080fd5b5080620f4240101580156200434857600080fd5b50604051600081818185878a8ad09450505050501580156200436e573d6000803e3d6000fd5b507f4abc2f5e7912b009fa6b5f692abd5f5da841ba2c81f7b734c1b0f5ff603b77bf88828885604051620043a6949392919062005cb0565b60405180910390a15050505050505050565b6040516340c10f1960e01b81526001600160a01b038416906340c10f1990620043e8908790869060040162005da2565b600060405180830381600087803b1580156200440357600080fd5b505af115801562004418573d6000803e3d6000fd5b505050507fc3e8d45c84c4ddcecd426c61ae7c123f45b727c357f607b64c030967a21e0782848484846040516200168f949392919062005d0d565b60008181526016602090815260408083203384529182905282205460ff1615620041c657600091505062003636565b6001600160a01b038481166000908152600f60205260409020541615620044bd5760405162461bcd60e51b8152600401620004be9062006043565b6000308484604051620044d09062004c38565b620044de9392919062005bb7565b604051809103906000f080158015620044fb573d6000803e3d6000fd5b506001600160a01b038087166000818152600f6020908152604080832080549587166001600160a01b0319968716811790915583526010909152908190208054909316909117909155519091507f5a730d2f8cfe24a7b618d8f78e5b279bab65e7c34e971669d168aec0a7f44622906200457b9087908490869062005cee565b60405180910390a15050601180546001810182556000919091527f31ecc21a745e3968a04e9570e4425bc18fa8019c68028196b546d1669c200c680180546001600160a01b0319166001600160a01b0394909416939093179092555050565b6040516340c10f1960e01b81526001600160a01b038416906340c10f19906200460a908790869060040162005da2565b600060405180830381600087803b1580156200462557600080fd5b505af11580156200463a573d6000803e3d6000fd5b505050507ff688f64a0db435b05bf90916e3d704b4eb942c59bc55529e58f09df8e65243c4848484846040516200168f949392919062005d0d565b6006546040516001600160a01b0390911690620046979084906020016200608b565b60408051601f1981840301815290829052620046b39162005b99565b6000604051808303816000865af19150503d8060008114620046f2576040519150601f19603f3d011682016040523d82523d6000602084013e620046f7565b606091505b50506040516001600160a01b038516915083156108fc029084906000818181858888f1935050505015801562004731573d6000803e3d6000fd5b507f93db373aca7b5fa97756430b1c2ccd69d67815387387feb40d87aa48cbb2571a838383604051620047679392919062005c82565b60405180910390a1505050565b6001600160a01b038581166000908152600f60205260409020541615620047af5760405162461bcd60e51b8152600401620004be9062006079565b600030858585604051620047c39062004c46565b620047d2949392919062005bfa565b604051809103906000f080158015620047ef573d6000803e3d6000fd5b506001600160a01b038088166000818152600f6020908152604080832080549587166001600160a01b0319968716811790915583526010909152908190208054909316909117909155519091507ff60ccfdcd368d2f04ad506885af100a8d3ab13d9becee776d6d1b09d6b21d3a5906200486f9088908490869062005cee565b60405180910390a15050601180546001810182556000919091527f31ecc21a745e3968a04e9570e4425bc18fa8019c68028196b546d1669c200c680180546001600160a01b0319166001600160a01b039590951694909417909355505050565b6001600160a01b038116620048e357600080fd5b6003546040516001600160a01b038084169216907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a3600380546001600160a01b0319166001600160a01b0392909216919091179055565b6001600160a01b03811660009081526017602090815260408083203384529182905282205460ff1615620041c657600091505062003636565b60606001600160a01b03821662004a20576000805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152929183018282801562004a135780601f10620049e75761010080835404028352916020019162004a13565b820191906000526020600020905b815481529060010190602001808311620049f557829003601f168201915b5050505050905062004a9c565b816001600160a01b031663a029b0966040518163ffffffff1660e01b815260040160006040518083038186803b15801562004a5a57600080fd5b505afa15801562004a6f573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405262004a99919081019062005081565b90505b7f633e5034510a0c7a27c0b9fb0d789cd980e5df67b48f7616e9c262426397847f60018260405162004ad092919062005e8e565b60405180910390a16002546040517f5c36dec2c0ed5b0dbd63872444c637e531efe754847dc745234e3a77b5383ffb9162004b19916001600160a01b0390911690859062005ccf565b60405180910390a1805162004b3690600190602084019062004bb3565b5050600280546001600160a01b0319166001600160a01b0392909216919091179055565b6000815b801562004b78576001919091019060001981011662004b5e565b50919050565b6040805160c0810182526000808252602082018190529181018290526060810182905290608082019081526020016000905290565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1062004bf657805160ff191683800117855562004c26565b8280016001018555821562004c26579182015b8281111562004c2657825182559160200191906001019062004c09565b5062004c3492915062004c54565b5090565b610fe1806200629883390190565b610ef5806200727983390190565b6200149e91905b8082111562004c34576000815560010162004c5b565b803562004c7e816200625f565b62004c898162006196565b9392505050565b8035620021878162006276565b8035620021878162006281565b600082601f83011262004cbc57600080fd5b813562004cd362004ccd8262006138565b62006110565b9150808252602083016020830185838301111562004cf057600080fd5b62004cfd838284620061db565b50505092915050565b600082601f83011262004d1857600080fd5b815162004d2962004ccd8262006138565b9150808252602083016020830185838301111562004d4657600080fd5b62004cfd838284620061e7565b803562002187816200628c565b60006020828403121562004d7357600080fd5b600062004d81848462004c71565b949350505050565b600080600080600080600060e0888a03121562004da557600080fd5b600062004db38a8a62004c71565b975050602062004dc68a828b0162004c9d565b965050604062004dd98a828b0162004c9d565b955050606062004dec8a828b0162004c9d565b945050608062004dff8a828b0162004c9d565b93505060a062004e128a828b0162004d53565b92505060c062004e258a828b0162004c9d565b91505092959891949750929550565b60008060006060848603121562004e4a57600080fd5b600062004e58868662004c71565b935050602062004e6b8682870162004c9d565b925050604062004e7e8682870162004c9d565b9150509250925092565b6000806000806080858703121562004e9f57600080fd5b600062004ead878762004c71565b945050602062004ec08782880162004c71565b935050604062004ed38782880162004c9d565b925050606062004ee68782880162004c9d565b91505092959194509250565b6000806000806080858703121562004f0957600080fd5b600062004f17878762004c71565b945050602085013567ffffffffffffffff81111562004f3557600080fd5b62004f438782880162004caa565b935050604085013567ffffffffffffffff81111562004f6157600080fd5b62004ed38782880162004caa565b600080600080600060a0868803121562004f8857600080fd5b600062004f96888862004c71565b955050602086013567ffffffffffffffff81111562004fb457600080fd5b62004fc28882890162004caa565b945050604086013567ffffffffffffffff81111562004fe057600080fd5b62004fee8882890162004caa565b9350506060620050018882890162004d53565b9250506080620050148882890162004c9d565b9150509295509295909350565b600080604083850312156200503557600080fd5b600062005043858562004c71565b9250506020620050568582860162004c9d565b9150509250929050565b6000602082840312156200507357600080fd5b600062004d81848462004c90565b6000602082840312156200509457600080fd5b815167ffffffffffffffff811115620050ac57600080fd5b62004d818482850162004d06565b600060208284031215620050cd57600080fd5b600062004d81848462004c9d565b60008060408385031215620050ef57600080fd5b6000620050fd858562004c9d565b925050602083013567ffffffffffffffff8111156200511b57600080fd5b620050568582860162004caa565b600080604083850312156200513d57600080fd5b600062005043858562004c9d565b60006200515983836200518e565b505060200190565b600062004c89838362005395565b600062004c8983836200540a565b6200518881620061ba565b82525050565b620051888162006196565b62005188620051a88262006196565b6200622d565b6000620051bb8262006173565b620051c7818562006181565b9350620051d48362006161565b8060005b8381101562005208578151620051ef88826200514b565b9750620051fc8362006161565b925050600101620051d8565b509495945050505050565b6000620052208262006177565b6200522c818562006181565b9350620052398362006167565b8060005b838110156200520857620052518262006241565b6200525d88826200514b565b97506200526a836200617b565b9250506001016200523d565b6000620052838262006173565b6200528f818562006181565b935083602082028501620052a38562006161565b8060005b85811015620052e35784840389528151620052c3858262005161565b9450620052d08362006161565b60209a909a0199925050600101620052a7565b5091979650505050505050565b6000620052fd8262006177565b62005309818562006181565b9350836020820285016200531d8562006167565b8060005b85811015620052e3578484038952816200533c85826200516f565b945062005349836200617b565b60209a909a019992505060010162005321565b6200518881620061a3565b62005188816200149e565b600062005380838562003636565b93506200538f838584620061db565b50500190565b6000620053a28262006173565b620053ae818562006181565b9350620053c0818560208601620061e7565b620053cb816200624f565b9093019392505050565b6000620053e28262006173565b620053ee818562003636565b935062005400818560208601620061e7565b9290920192915050565b6000815460018116600081146200542a57600181146200545357620025f9565b607f60028304166200543d818762006181565b60ff1984168152955050602085019250620025f9565b6002820462005463818762006181565b9550620054708562006167565b60005b82811015620054915781548882015260019091019060200162005473565b9096019695505050505050565b6000620054ad601c8362006181565b7f746f6b656e56616c756520213d206d73672e746f6b656e76616c756500000000815260200192915050565b6000620054e860288362006181565b7f746f6b656e4964203c3d2031303030303030206f7220746f6b656e4964203e3d815267020323030303030360c41b602082015260400192915050565b600062005534601e8362006181565b7f6d61696e436861696e41646472657373203d3d20616464726573732830290000815260200192915050565b60006200556f60218362006181565b7f746f6b656e49644d61705b606d73672e746f6b656e69645d203d3d2066616c738152606560f81b602082015260400192915050565b6000620055b460268362006181565b7f746f6b656e76616c7565206d757374206265203e3d2077697468647261774d6981526506e54726331360d41b602082015260400192915050565b6000620055fe60158362006181565b745f6f7261636c65206973206e6f74206f7261636c6560581b815260200192915050565b600062005631600d8362006181565b6c7061757365206973207472756560981b815260200192915050565b60006200565c600c8362006181565b6b73746f70206973207472756560a01b815260200192915050565b600062005686601c8362006181565b7f6f7261636c65735b6d73672e73656e6465725d2069732066616c736500000000815260200192915050565b6000620056c160128362006181565b711b9bdd08185b1b1bddc818dbdb9d1c9858dd60721b815260200192915050565b6000620056f160138362006181565b7236b9b39739b2b73232b910109e9037bbb732b960691b815260200192915050565b600062005722601c8362006181565b7f76616c7565206d757374206265203e3d20776974686472617746656500000000815260200192915050565b60006200575d60208362006181565b7f6e6f6e6365203e3d207573657257697468647261774c6973742e6c656e677468815260200192915050565b600062005798601b8362006181565b7f6e6f7420616c6c6f772066756e6374696f6e2066616c6c6261636b0000000000815260200192915050565b6000620057d360168362006181565b751d1bdad95b925908084f481b5cd9cb9d1bdad95b9a5960521b815260200192915050565b600062005807601b8362006181565b7f7468697320616464726573732063616e6e6f74206265207a65726f0000000000815260200192915050565b600062005842602b8362006181565b7f76616c7565206d757374206265203e3d2077697468647261774d696e5472782b81526a776974686472617746656560a81b602082015260400192915050565b600062005891601e8362006181565b7f5f73756e546f6b656e41646472657373203d3d20616464726573732830290000815260200192915050565b6000620058cc60218362006181565b7f76616c7565206d757374206265203e3d2077697468647261774d696e547263328152600360fc1b602082015260400192915050565b600062005911601b8362006181565b7f6d73672e76616c7565206e65656420203e3d2072657472794665650000000000815260200192915050565b60006200594c60248362006181565b7f746865206d61696e20636861696e2061646472657373206861736e2774206d618152631c1c195960e21b602082015260400192915050565b60006200599460118362006181565b705f6f7261636c65206973206f7261636c6560781b815260200192915050565b6000620059c360198362006181565b7f54524337323120636f6e7472616374206973206d617070656400000000000000815260200192915050565b6000620059fe60118362006181565b700d8cae6e640e8d0c2dc4062606040a8a4b607b1b815260200192915050565b600062005a2d60238362006181565b7f6d61696e436861696e41646472657373203d3d2073756e546f6b656e4164647281526265737360e81b602082015260400192915050565b600062005a7460188362006181565b7f545243323020636f6e7472616374206973206d61707065640000000000000000815260200192915050565b6200518862005aaf826200149e565b6200149e565b6200518881620061ce565b6200518881620061b4565b600062005ad9828762005199565b60148201915062005aeb828662005199565b60148201915062005afd828562005aa0565b60208201915062005b0f828462005aa0565b50602001949350505050565b600062005b29828762005199565b60148201915062005b3b828662005aa0565b60208201915062005afd828562005aa0565b600062005b5b828662005199565b60148201915062005b6d828562005aa0565b60208201915062005b7f828462005aa0565b506020019392505050565b600062004d8182848662005372565b600062004c898284620053d5565b602081016200218782846200518e565b6060810162005bc782866200517d565b818103602083015262005bdb818562005395565b9050818103604083015262005bf1818462005395565b95945050505050565b6080810162005c0a82876200517d565b818103602083015262005c1e818662005395565b9050818103604083015262005c34818562005395565b905062005bf1606083018462005ac0565b6080810162005c5582876200517d565b62005c64602083018662005367565b62005c73604083018562005367565b62005bf1606083018462005367565b6060810162005c9282866200517d565b62005ca1602083018562005367565b62004d81604083018462005367565b6080810162005cc082876200517d565b62005c64602083018662005ab5565b6040810162005cdf82856200518e565b62004c8960208301846200518e565b6060810162005cfe82866200518e565b62005ca160208301856200518e565b6080810162005d1d82876200518e565b62005c6460208301866200518e565b60c0810162005d3c82896200518e565b62005d4b60208301886200518e565b62005d5a604083018762005367565b62005d69606083018662005367565b62005d78608083018562005367565b62005d8760a083018462005367565b979650505050505050565b6080810162005c5582876200518e565b6040810162005db282856200518e565b62004c89602083018462005367565b6060810162005c9282866200518e565b6020808252810162004c898184620051ae565b6040808252810162005df7818562005276565b9050818103602083015262004d818184620051ae565b602081016200218782846200535c565b6040810162005e2d82856200535c565b818103602083015262004d81818462005395565b6060810162005e51828662005367565b818103602083015262005e658185620052f0565b9050818103604083015262005bf1818462005213565b6020808252810162004c89818462005395565b6040808252810162005ea181856200540a565b9050818103602083015262004d81818462005395565b6020808252810162002187816200549e565b602080825281016200218781620054d9565b60208082528101620021878162005525565b60208082528101620021878162005560565b602080825281016200218781620055a5565b602080825281016200218781620055ef565b60208082528101620021878162005622565b6020808252810162002187816200564d565b60208082528101620021878162005677565b602080825281016200218781620056b2565b602080825281016200218781620056e2565b60208082528101620021878162005713565b6020808252810162002187816200574e565b60208082528101620021878162005789565b602080825281016200218781620057c4565b602080825281016200218781620057f8565b60208082528101620021878162005833565b60208082528101620021878162005882565b602080825281016200218781620058bd565b60208082528101620021878162005902565b6020808252810162002187816200593d565b60208082528101620021878162005985565b602080825281016200218781620059b4565b602080825281016200218781620059ef565b60208082528101620021878162005a1e565b60208082528101620021878162005a65565b6020810162002187828462005367565b60408101620060ab828562005367565b62004c8960208301846200535c565b60a08101620060ca828862005367565b620060d9602083018762005367565b620060e8604083018662005367565b620060f7606083018562005367565b62006106608083018462005ac0565b9695505050505050565b60405181810167ffffffffffffffff811182821017156200613057600080fd5b604052919050565b600067ffffffffffffffff8211156200615057600080fd5b506020601f91909101601f19160190565b60200190565b60009081526020902090565b5190565b5490565b60010190565b90815260200190565b6001600160a01b031690565b600062002187826200618a565b151590565b6001600160a81b031690565b60ff1690565b600062002187826000620021878262006196565b600062002187826200149e565b82818337506000910152565b60005b8381101562006204578181015183820152602001620061ea565b83811115620016985750506000910152565b60006200218762006227836200149e565b6200618a565b600062002187826000620021878262006259565b600062002187825462006216565b601f01601f191690565b60601b90565b6200626a81620061a8565b8114620013ad57600080fd5b6200626a81620061a3565b6200626a816200149e565b6200626a81620061b456fe60806040523480156200001157600080fd5b50d380156200001f57600080fd5b50d280156200002d57600080fd5b5060405162000fe138038062000fe1833981810160405260608110156200005357600080fd5b8151602083018051919392830192916401000000008111156200007557600080fd5b820160208101848111156200008957600080fd5b8151640100000000811182820187101715620000a457600080fd5b50509291906020018051640100000000811115620000c157600080fd5b82016020810184811115620000d557600080fd5b8151640100000000811182820187101715620000f057600080fd5b5050600480546001600160a01b0319166001600160a01b038816179055845190935062000127925060059150602085019062000147565b5080516200013d90600690602084019062000147565b50505050620001ec565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200018a57805160ff1916838001178555620001ba565b82800160010185558215620001ba579182015b82811115620001ba5782518255916020019190600101906200019d565b50620001c8929150620001cc565b5090565b620001e991905b80821115620001c85760008155600101620001d3565b90565b610de580620001fc6000396000f3fe6080604052600436106100dd5760003560e01c80636352211e1161007f57806395d89b411161005957806395d89b411461041e578063a22cb4651461044d578063a9059cbb146104a2578063e985e9c5146104f5576100dd565b80636352211e1461035e57806370a08231146103a2578063835fc6ca14610401576100dd565b8063116191b6116100bb578063116191b61461023b57806323b872dd1461026a57806340c10f19146102c757806342966c681461031a576100dd565b806306fdde03146100e2578063081812fc14610186578063095ea7b3146101e6575b600080fd5b3480156100ee57600080fd5b50d380156100fb57600080fd5b50d2801561010857600080fd5b5061011161055e565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561014b578181015183820152602001610133565b50505050905090810190601f1680156101785780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561019257600080fd5b50d3801561019f57600080fd5b50d280156101ac57600080fd5b506101ca600480360360208110156101c357600080fd5b50356105ec565b604080516001600160a01b039092168252519081900360200190f35b3480156101f257600080fd5b50d380156101ff57600080fd5b50d2801561020c57600080fd5b506102396004803603604081101561022357600080fd5b506001600160a01b03813516906020013561061c565b005b34801561024757600080fd5b50d3801561025457600080fd5b50d2801561026157600080fd5b506101ca6106c9565b34801561027657600080fd5b50d3801561028357600080fd5b50d2801561029057600080fd5b50610239600480360360608110156102a757600080fd5b506001600160a01b038135811691602081013590911690604001356106d8565b3480156102d357600080fd5b50d380156102e057600080fd5b50d280156102ed57600080fd5b506102396004803603604081101561030457600080fd5b506001600160a01b0381351690602001356106fb565b34801561032657600080fd5b50d3801561033357600080fd5b50d2801561034057600080fd5b506102396004803603602081101561035757600080fd5b50356107c3565b34801561036a57600080fd5b50d3801561037757600080fd5b50d2801561038457600080fd5b506101ca6004803603602081101561039b57600080fd5b50356107d0565b3480156103ae57600080fd5b50d380156103bb57600080fd5b50d280156103c857600080fd5b506103ef600480360360208110156103df57600080fd5b50356001600160a01b03166107f8565b60408051918252519081900360200190f35b6103ef6004803603602081101561041757600080fd5b5035610829565b34801561042a57600080fd5b50d3801561043757600080fd5b50d2801561044457600080fd5b506101116109ca565b34801561045957600080fd5b50d3801561046657600080fd5b50d2801561047357600080fd5b506102396004803603604081101561048a57600080fd5b506001600160a01b0381351690602001351515610a25565b3480156104ae57600080fd5b50d380156104bb57600080fd5b50d280156104c857600080fd5b50610239600480360360408110156104df57600080fd5b506001600160a01b038135169060200135610aa9565b34801561050157600080fd5b50d3801561050e57600080fd5b50d2801561051b57600080fd5b5061054a6004803603604081101561053257600080fd5b506001600160a01b0381358116916020013516610ab8565b604080519115158252519081900360200190f35b6005805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156105e45780601f106105b9576101008083540402835291602001916105e4565b820191906000526020600020905b8154815290600101906020018083116105c757829003601f168201915b505050505081565b60006105f782610ae6565b61060057600080fd5b506000908152600160205260409020546001600160a01b031690565b6000610627826107d0565b9050806001600160a01b0316836001600160a01b0316141561064857600080fd5b336001600160a01b038216148061066457506106648133610ab8565b61066d57600080fd5b60008281526001602052604080822080546001600160a01b0319166001600160a01b0387811691821790925591518593918516917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591a4505050565b6004546001600160a01b031681565b6106e23382610b03565b6106eb57600080fd5b6106f6838383610b62565b505050565b6004546001600160a01b0316331461071257600080fd5b6001600160a01b03821661072557600080fd5b61072e81610ae6565b1561073857600080fd5b60008181526020818152604080832080546001600160a01b0319166001600160a01b03871690811790915583526002909152902054610778906001610c6e565b6001600160a01b0383166000818152600260205260408082209390935591518392907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a45050565b6107cd3382610c7e565b50565b6000818152602081905260408120546001600160a01b0316806107f257600080fd5b92915050565b60006001600160a01b03821661080d57600080fd5b506001600160a01b031660009081526002602052604090205490565b6004805460408051631540aa8960e01b8152905160009384936001600160a01b031692631540aa899281830192602092829003018186803b15801561086d57600080fd5b505afa158015610881573d6000803e3d6000fd5b505050506040513d602081101561089757600080fd5b50519050348111156108f0576040805162461bcd60e51b815260206004820152601c60248201527f76616c7565206d757374206265203e3d20776974686472617746656500000000604482015290519081900360640190fd5b803411156109295760405133903483900380156108fc02916000818181858888f19350505050158015610927573d6000803e3d6000fd5b505b60045461093f906001600160a01b031684610aa9565b600480546040805163546a1a8160e11b8152339381019390935260248301869052516001600160a01b039091169163a8d4350291849160448082019260209290919082900301818588803b15801561099657600080fd5b505af11580156109aa573d6000803e3d6000fd5b50505050506040513d60208110156109c157600080fd5b50519392505050565b6006805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156105e45780601f106105b9576101008083540402835291602001916105e4565b6001600160a01b038216331415610a3b57600080fd5b3360008181526003602090815260408083206001600160a01b03871680855290835292819020805460ff1916861515908117909155815190815290519293927f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31929181900390910190a35050565b610ab4338383610b62565b5050565b6001600160a01b03918216600090815260036020908152604080832093909416825291909152205460ff1690565b6000908152602081905260409020546001600160a01b0316151590565b600080610b0f836107d0565b9050806001600160a01b0316846001600160a01b03161480610b4a5750836001600160a01b0316610b3f846105ec565b6001600160a01b0316145b80610b5a5750610b5a8185610ab8565b949350505050565b826001600160a01b0316610b75826107d0565b6001600160a01b031614610b8857600080fd5b6001600160a01b038216610b9b57600080fd5b610ba481610d3c565b6001600160a01b038316600090815260026020526040902054610bce90600163ffffffff610d7716565b6001600160a01b038085166000908152600260205260408082209390935590841681522054610c0490600163ffffffff610c6e16565b6001600160a01b0380841660008181526002602090815260408083209590955585825281905283812080546001600160a01b031916831790559251849391928716917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef91a4505050565b818101828110156107f257600080fd5b816001600160a01b0316610c91826107d0565b6001600160a01b031614610ca457600080fd5b610cad81610d3c565b6001600160a01b038216600090815260026020526040902054610cd790600163ffffffff610d7716565b6001600160a01b03831660008181526002602090815260408083209490945584825281905282812080546001600160a01b03191690559151839291907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908390a45050565b6000818152600160205260409020546001600160a01b0316156107cd57600090815260016020526040902080546001600160a01b0319169055565b600082821115610d8657600080fd5b5090039056fea26474726f6e582049e9f1b0edd1bf9fa336f058e8bde55b19a890539ec065a5f40e68101fd1301764736f6c637827302e352e392d646576656c6f702e323031392e382e32312b636f6d6d69742e6135656136656262005660806040523480156200001157600080fd5b50d380156200001f57600080fd5b50d280156200002d57600080fd5b5060405162000ef538038062000ef5833981810160405260808110156200005357600080fd5b8151602083018051919392830192916401000000008111156200007557600080fd5b820160208101848111156200008957600080fd5b8151640100000000811182820187101715620000a457600080fd5b50509291906020018051640100000000811115620000c157600080fd5b82016020810184811115620000d557600080fd5b8151640100000000811182820187101715620000f057600080fd5b5050602091820151600380546001600160a01b0319166001600160a01b038916179055855191945092506200012c916004919086019062000165565b5081516200014290600590602085019062000165565b506006805460ff191660ff9290921691909117905550506000600255506200020a565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620001a857805160ff1916838001178555620001d8565b82800160010185558215620001d8579182015b82811115620001d8578251825591602001919060010190620001bb565b50620001e6929150620001ea565b5090565b6200020791905b80821115620001e65760008155600101620001f1565b90565b610cdb806200021a6000396000f3fe6080604052600436106100e85760003560e01c806340c10f191161008a57806395d89b411161005957806395d89b411461047c578063a457c2d7146104ab578063a9059cbb146104fe578063dd62ed3e14610551576100e8565b806340c10f191461037957806342966c68146103ce57806370a0823114610412578063835fc6ca1461045f576100e8565b806318160ddd116100c657806318160ddd1461024357806323b872dd14610284578063313ce567146102e15780633950935114610326576100e8565b806306fdde03146100ed578063095ea7b314610191578063116191b6146101f8575b600080fd5b3480156100f957600080fd5b50d3801561010657600080fd5b50d2801561011357600080fd5b5061011c6105a6565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561015657818101518382015260200161013e565b50505050905090810190601f1680156101835780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561019d57600080fd5b50d380156101aa57600080fd5b50d280156101b757600080fd5b506101e4600480360360408110156101ce57600080fd5b506001600160a01b038135169060200135610634565b604080519115158252519081900360200190f35b34801561020457600080fd5b50d3801561021157600080fd5b50d2801561021e57600080fd5b5061022761064a565b604080516001600160a01b039092168252519081900360200190f35b34801561024f57600080fd5b50d3801561025c57600080fd5b50d2801561026957600080fd5b50610272610659565b60408051918252519081900360200190f35b34801561029057600080fd5b50d3801561029d57600080fd5b50d280156102aa57600080fd5b506101e4600480360360608110156102c157600080fd5b506001600160a01b0381358116916020810135909116906040013561065f565b3480156102ed57600080fd5b50d380156102fa57600080fd5b50d2801561030757600080fd5b506103106106b6565b6040805160ff9092168252519081900360200190f35b34801561033257600080fd5b50d3801561033f57600080fd5b50d2801561034c57600080fd5b506101e46004803603604081101561036357600080fd5b506001600160a01b0381351690602001356106bf565b34801561038557600080fd5b50d3801561039257600080fd5b50d2801561039f57600080fd5b506103cc600480360360408110156103b657600080fd5b506001600160a01b0381351690602001356106fb565b005b3480156103da57600080fd5b50d380156103e757600080fd5b50d280156103f457600080fd5b506103cc6004803603602081101561040b57600080fd5b50356107ba565b34801561041e57600080fd5b50d3801561042b57600080fd5b50d2801561043857600080fd5b506102726004803603602081101561044f57600080fd5b50356001600160a01b03166107c7565b6102726004803603602081101561047557600080fd5b50356107e2565b34801561048857600080fd5b50d3801561049557600080fd5b50d280156104a257600080fd5b5061011c61098e565b3480156104b757600080fd5b50d380156104c457600080fd5b50d280156104d157600080fd5b506101e4600480360360408110156104e857600080fd5b506001600160a01b0381351690602001356109e9565b34801561050a57600080fd5b50d3801561051757600080fd5b50d2801561052457600080fd5b506101e46004803603604081101561053b57600080fd5b506001600160a01b038135169060200135610a25565b34801561055d57600080fd5b50d3801561056a57600080fd5b50d2801561057757600080fd5b506102726004803603604081101561058e57600080fd5b506001600160a01b0381358116916020013516610a32565b6004805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152929183018282801561062c5780601f106106015761010080835404028352916020019161062c565b820191906000526020600020905b81548152906001019060200180831161060f57829003601f168201915b505050505081565b6000610641338484610a5d565b50600192915050565b6003546001600160a01b031681565b60025490565b600061066c848484610ae5565b6001600160a01b0384166000908152600160209081526040808320338085529252909120546106ac9186916106a7908663ffffffff610bb016565b610a5d565b5060019392505050565b60065460ff1681565b3360008181526001602090815260408083206001600160a01b038716845290915281205490916106419185906106a7908663ffffffff610bc516565b6003546001600160a01b0316331461071257600080fd5b6001600160a01b03821661072557600080fd5b600254610738908263ffffffff610bc516565b6002556001600160a01b038216600090815260208190526040902054610764908263ffffffff610bc516565b6001600160a01b0383166000818152602081815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b6107c43382610bdb565b50565b6001600160a01b031660009081526020819052604090205490565b600080600360009054906101000a90046001600160a01b03166001600160a01b0316631540aa896040518163ffffffff1660e01b815260040160206040518083038186803b15801561083357600080fd5b505afa158015610847573d6000803e3d6000fd5b505050506040513d602081101561085d57600080fd5b50519050348111156108b6576040805162461bcd60e51b815260206004820152601c60248201527f76616c7565206d757374206265203e3d20776974686472617746656500000000604482015290519081900360640190fd5b803411156108ef5760405133903483900380156108fc02916000818181858888f193505050501580156108ed573d6000803e3d6000fd5b505b600354610905906001600160a01b031684610a25565b50600354604080516329733f2160e11b81523360048201526024810186905290516001600160a01b03909216916352e67e42918491604480830192602092919082900301818588803b15801561095a57600080fd5b505af115801561096e573d6000803e3d6000fd5b50505050506040513d602081101561098557600080fd5b50519392505050565b6005805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152929183018282801561062c5780601f106106015761010080835404028352916020019161062c565b3360008181526001602090815260408083206001600160a01b038716845290915281205490916106419185906106a7908663ffffffff610bb016565b6000610641338484610ae5565b6001600160a01b03918216600090815260016020908152604080832093909416825291909152205490565b6001600160a01b038216610a7057600080fd5b6001600160a01b038316610a8357600080fd5b6001600160a01b03808416600081815260016020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b038216610af857600080fd5b6001600160a01b038316600090815260208190526040902054610b21908263ffffffff610bb016565b6001600160a01b038085166000908152602081905260408082209390935590841681522054610b56908263ffffffff610bc516565b6001600160a01b038084166000818152602081815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b600082821115610bbf57600080fd5b50900390565b81810182811015610bd557600080fd5b92915050565b6001600160a01b038216610bee57600080fd5b600254610c01908263ffffffff610bb016565b6002556001600160a01b038216600090815260208190526040902054610c2d908263ffffffff610bb016565b6001600160a01b038316600081815260208181526040808320949094558351858152935191937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef929081900390910190a3505056fea26474726f6e5820f49d3b92995d6e6fff4d9756b5a379754b3e8c38028b1f7370ba2223f1e8c2d664736f6c637827302e352e392d646576656c6f702e323031392e382e32312b636f6d6d69742e613565613665626200568d47f8674d94f113f1cc97d30d1540c9ad6eeb7e7deacf67b41cc6032e4a57d3a36474726f6e582064b944aaec8855d4495f8534719a13d9db0001d455e1edd0a70cad9e78fa180b6c6578706572696d656e74616cf564736f6c637827302e352e392d646576656c6f702e323031392e382e32312b636f6d6d69742e61356561366562620064")
        .toString();
    long value = 0;
    long fee = 1000000000;
    long consumeUserResourcePercent = 0;
    String addOracleSign = "addOracle(address)";
    String isOraclesSign = "oracles(address)";

    // deploy contract
    Transaction trx = TvmTestUtils.generateDeploySmartContractAndGetTransaction(
        contractName, address, ABI, factoryCode, value, fee, consumeUserResourcePercent, null,
        1000000000);
    byte[] factoryAddress = Wallet.generateContractAddress(trx);
    runtime = TvmTestUtils.processTransactionAndReturnRuntime(trx, rootDeposit, null);
    Assert.assertNull(runtime.getRuntimeError());
    manager.getDynamicPropertiesStore()
        .saveSideChainGateWayList(Lists.newArrayList(factoryAddress));
    // add Oracle address
    String hexInput = AbiUtil
        .parseMethod(addOracleSign, Arrays.asList(Wallet.encode58Check(address)));
    TVMTestResult result = TvmTestUtils
        .triggerContractAndReturnTvmTestResult(Hex.decode(OWNER_ADDRESS),
            factoryAddress, Hex.decode(hexInput), 0, fee, manager, null);
    Assert.assertNull(result.getRuntime().getRuntimeError());

    //check oracle
    hexInput = AbiUtil
        .parseMethod(isOraclesSign, Arrays.asList(Wallet.encode58Check(address)));
    result = TvmTestUtils
        .triggerContractAndReturnTvmTestResult(Hex.decode(OWNER_ADDRESS),
            factoryAddress, Hex.decode(hexInput), 0, fee, manager, null);
    Assert.assertNull(result.getRuntime().getRuntimeError());

    // getOldCodeVersion
    String getCodeVersion = "getCodeVersion()";

    hexInput = AbiUtil
        .parseMethod(getCodeVersion, Arrays.asList());
    result = TvmTestUtils
        .triggerContractAndReturnTvmTestResult(Hex.decode(OWNER_ADDRESS),
            factoryAddress, Hex.decode(hexInput), 0, fee, manager, null);
    Assert.assertNull(result.getRuntime().getRuntimeError());
    Assert.assertTrue(
        ByteArray.toStr(result.getRuntime().getResult().getHReturn()).contains("1.0.1"));

    // updata gateway contract code
    ProposalCapsule proposalCapsule = new ProposalCapsule(ByteString.copyFrom(address), 1);
    HashMap<Long, String> hashMap = Maps.newHashMap();
    hashMap.put(1000012L, "1");
    proposalCapsule.setParameters(hashMap);
    manager.getProposalController().setDynamicParameters(proposalCapsule);

    // mapping new trc20 contract
    String trc20Address = "27WHFKXTBubabKf1zpauoGTMs1Z1ibxFtza";
    String trc20Name = "27WHFKXTBubabKf1zpauoGTMs1Z1ibxFtza";
    long trc20Decimals = 100;
    String trc20OwnerAddress = "27d9WWLBLFyTAT6o9vPrKq8ugPfU2mgn4AA";
    long trc20Nonce = 2;
    String mappingSign = "multiSignForDeployDAppTRC20AndMapping(address,string,string,uint8,address,uint256)";

    hexInput = AbiUtil
        .parseMethod(mappingSign, Arrays
            .asList(trc20Address, trc20Name, trc20Name, trc20Decimals, trc20OwnerAddress,
                trc20Nonce));
    result = TvmTestUtils
        .triggerContractAndReturnTvmTestResult(Hex.decode(OWNER_ADDRESS),
            factoryAddress, Hex.decode(hexInput), 0, fee, manager, null);
    Assert.assertNull(result.getRuntime().getRuntimeError());

    //check mapped trc owner
    String trcMappingSign = "mainToSideContractMap(address)";
    hexInput = AbiUtil.parseMethod(trcMappingSign, Arrays.asList(trc20Address));
    result = TvmTestUtils
        .triggerContractAndReturnTvmTestResult(Hex.decode(OWNER_ADDRESS),
            factoryAddress, Hex.decode(hexInput), 0, fee, manager, null);
    Assert.assertNull(result.getRuntime().getRuntimeError());
    byte[] newAddress = MUtil.convertToTronAddress(
        new DataWord(result.getRuntime().getResult().getHReturn()).getLast20Bytes());
    ContractCapsule contractCapsule = manager.getContractStore().get(newAddress);
    Assert.assertNotNull(contractCapsule);
    byte[] originAddress = contractCapsule.getOriginAddress();
    Assert.assertEquals(Wallet.encode58Check(originAddress), trc20OwnerAddress);

    // mapping new trc20 contract
    String trc721Address = "27jt151r78fUxpJ95WmK3aAmGgKrkN8B2TL";
    String trc721Name = "27jt151r78fUxpJ95WmK3aAmGgKrkN8B2TL";
    String trc721OwnerAddress = "27iTrimoDuW51TBcbFahRSH66khDAQ8VFpe";
    long trc721Nonce = 5;
    String mapping721Sign = "multiSignForDeployDAppTRC721AndMapping(address,string,string,address,uint256)";

    hexInput = AbiUtil
        .parseMethod(mapping721Sign, Arrays
            .asList(trc721Address, trc721Name, trc20Name, trc721OwnerAddress, trc721Nonce));
    result = TvmTestUtils
        .triggerContractAndReturnTvmTestResult(Hex.decode(OWNER_ADDRESS),
            factoryAddress, Hex.decode(hexInput), 0, fee, manager, null);
    Assert.assertNull(result.getRuntime().getRuntimeError());

    //check mapped trc owner
    hexInput = AbiUtil.parseMethod(trcMappingSign, Arrays.asList(trc721Address));
    result = TvmTestUtils
        .triggerContractAndReturnTvmTestResult(Hex.decode(OWNER_ADDRESS),
            factoryAddress, Hex.decode(hexInput), 0, fee, manager, null);
    Assert.assertNull(result.getRuntime().getRuntimeError());
    newAddress = MUtil.convertToTronAddress(
        new DataWord(result.getRuntime().getResult().getHReturn()).getLast20Bytes());
    contractCapsule = manager.getContractStore().get(newAddress);
    Assert.assertNotNull(contractCapsule);
    originAddress = contractCapsule.getOriginAddress();
    Assert.assertEquals(Wallet.encode58Check(originAddress), trc721OwnerAddress);

    // deploy new gateway contract
    String newContractName = "revertTest";
    String new_ABI = "[]";
    String new_factoryCode = "608060405234801561001057600080fd5b5061017d806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c8063107dbe1d14610046578063a029b09614610060578063afc874d2146100dd575b600080fd5b61004e6100e5565b60408051918252519081900360200190f35b6100686100ea565b6040805160208082528351818301528351919283929083019185019080838360005b838110156100a257818101518382015260200161008a565b50505050905090810190601f1680156100cf5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b61004e610109565b600190565b604080518082019091526005815264189718171960d91b602082015290565b60006040805162461bcd60e51b815260206004820152600d60248201526c1cda1bdd5b190814995d995c9d609a1b604482015290519081900360640190fdfea265627a7a72315820d068d81870a313411f9310f405b8422aaa26dde5133f672d5d006ec6c8318a7264736f6c634300050b0032";
    trx = TvmTestUtils.generateDeploySmartContractAndGetTransaction(
        newContractName, address, new_ABI, new_factoryCode, value, fee, consumeUserResourcePercent,
        null, 1000000000);
    byte[] newFactoryAddress = Wallet.generateContractAddress(trx);
    runtime = TvmTestUtils.processTransactionAndReturnRuntime(trx, rootDeposit, null);
    Assert.assertNull(runtime.getRuntimeError());

    // update new gateway contract
    String methodToTrigger = "setLogicAddress(address)";
    hexInput = AbiUtil
        .parseMethod(methodToTrigger, Arrays.asList(Wallet.encode58Check(newFactoryAddress)));
    result = TvmTestUtils
        .triggerContractAndReturnTvmTestResult(Hex.decode(OWNER_ADDRESS),
            factoryAddress, Hex.decode(hexInput), 0, fee, manager, null);
    Assert.assertNull(result.getRuntime().getRuntimeError());

    // getNewCodeVersion

    hexInput = AbiUtil
        .parseMethod(getCodeVersion, Arrays.asList());
    result = TvmTestUtils
        .triggerContractAndReturnTvmTestResult(Hex.decode(OWNER_ADDRESS),
            factoryAddress, Hex.decode(hexInput), 0, fee, manager, null);
    Assert.assertNull(result.getRuntime().getRuntimeError());
    Assert.assertTrue(
        ByteArray.toStr(result.getRuntime().getResult().getHReturn()).contains("1.0.2"));

    // new revert function
    String methodDoSuccess = "doSuccess()";
    hexInput = AbiUtil
        .parseMethod(methodDoSuccess, Lists.newArrayList());
    result = TvmTestUtils
        .triggerContractAndReturnTvmTestResult(Hex.decode(OWNER_ADDRESS),
            factoryAddress, Hex.decode(hexInput), 0, fee, manager, null);
    Assert.assertNull(result.getRuntime().getRuntimeError());
    Assert.assertFalse(result.getRuntime().getResult().isRevert());

    // new revert function
    String methodDoRevert = "doRevert()";
    hexInput = AbiUtil
        .parseMethod(methodDoRevert, Lists.newArrayList());
    result = TvmTestUtils
        .triggerContractAndReturnTvmTestResult(Hex.decode(OWNER_ADDRESS),
            factoryAddress, Hex.decode(hexInput), 0, fee, manager, null);
    Assert.assertTrue(result.getRuntime().getResult().isRevert());
    Assert.assertTrue(
        ByteArray.toStr(result.getRuntime().getResult().getHReturn()).contains("should Revert"));


  }

}
